super: crÃ©e dossier d'installation et de dÃ©veloppement dans C:\Dev . je lancerai claude code dans ce dossier. instructions autonomie complÃ¨te 0 friction utilisateur, tests complets automatisÃ©s, style miami du frontend chess-app (C:\Dev\chess-app\frontend\src), shadcn/ui pour composants ou existants ou bilbliothÃ¨que vo/vercel ?.
ok ?

ğŸ“‹ SPEC COMPLÃˆTE - HAY CHESS TOURNAMENT TRACKER
ğŸ¯ Vue d'ensemble
Application web pour suivi en temps rÃ©el des rÃ©sultats des tournois d'Ã©checs FFE pour le club "Hay Chess".

Utilisateurs cibles : Parents bÃ©nÃ©voles, responsables club (non-techniques)
Plateforme : Web responsive (desktop + mobile)
HÃ©bergement : Vercel (gratuit, serverless)

ğŸ“ Structure du projet
C:\Dev\hay-chess-tracker\
â”œâ”€â”€ src/                          # Frontend React
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/                   # shadcn/ui components
â”‚   â”‚   â”œâ”€â”€ EventForm.tsx         # Formulaire crÃ©ation Ã©vÃ©nement
â”‚   â”‚   â”œâ”€â”€ TournamentTab.tsx     # Onglet tournoi
â”‚   â”‚   â”œâ”€â”€ PlayerTable.tsx       # Tableau joueurs
â”‚   â”‚   â”œâ”€â”€ ClubStats.tsx         # Stats club
â”‚   â”‚   â””â”€â”€ ResultValidation.tsx  # Validation rÃ©sultats
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ scraper.ts            # Logic scraping
â”‚   â”‚   â”œâ”€â”€ parser.ts             # Parse HTML FFE
â”‚   â”‚   â””â”€â”€ storage.ts            # localStorage management
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ index.ts              # TypeScript types
â”‚   â”œâ”€â”€ styles/
â”‚   â”‚   â””â”€â”€ globals.css           # Styles Miami (copier depuis chess-app)
â”‚   â”œâ”€â”€ App.tsx
â”‚   â””â”€â”€ main.tsx
â”œâ”€â”€ api/                          # Vercel Functions (backend serverless)
â”‚   â””â”€â”€ scrape.ts                 # Proxy CORS pour FFE
â”œâ”€â”€ public/
â”œâ”€â”€ vercel.json                   # Config Vercel
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ vite.config.ts
â”œâ”€â”€ tailwind.config.js
â”œâ”€â”€ postcss.config.js
â”œâ”€â”€ components.json               # shadcn/ui config
â””â”€â”€ README.md
```

---

## ğŸ›  Stack technique

**Frontend :**
- React 18 + TypeScript
- Vite (build tool)
- shadcn/ui (composants UI)
- Tailwind CSS (styling)
- Style Miami glassmorphism (depuis chess-app)

**Backend :**
- Vercel Serverless Functions
- Node.js fetch API
- Cheerio ou node-html-parser (parse HTML)

**Stockage :**
- localStorage (Ã©vÃ©nements, tournois, validations)

---

## ğŸ¨ Design UI/UX

### Style visuel
- **Reprendre exactement le style Miami de chess-app** :
  - Glassmorphism effects
  - Palette : `--miami-aqua`, `--miami-orange`, `--miami-navy`
  - Shimmer animations
  - `miami-glass-foreground`, `miami-shimmer` classes

### Layout principal
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  HAY CHESS TRACKER        [Nouvel Ã©vÃ©nement]â”‚
â”‚  [Nom Ã©vÃ©nement actuel]                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [U12] [U14] [U16] [U18]  <- Onglets       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š Stats Club - Ronde 3                    â”‚
â”‚  Score: 12.5/16 joueurs | Moy: 0.78 pts    â”‚
â”‚                                   [Refresh] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Joueurs Hay Chess (16)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚Nom      â”‚Elo â”‚R1â”‚R2â”‚R3â”‚Ptsâ”‚Rkâ”‚Valid.â”‚  â”‚
â”‚  â”‚BACHKAT  â”‚1468â”‚1 â”‚1 â”‚0 â”‚2.0â”‚5 â”‚ â˜   â”‚  â”‚
â”‚  â”‚ENGLES   â”‚1550â”‚1 â”‚0.5â”‚1â”‚2.5â”‚3 â”‚ â˜‘   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ğŸ”§ FonctionnalitÃ©s dÃ©taillÃ©es
1. CrÃ©ation Ã©vÃ©nement
Formulaire "Nouvel Ã©vÃ©nement" :

typescript
interface Event {
  id: string;
  name: string; // "Championnat dÃ©partemental 13 - Oct 2025"
  createdAt: string;
  tournaments: Tournament[];
}

interface Tournament {
  id: string;
  name: string; // "U12"
  url: string;  // URL page rÃ©sultats FFE
  lastUpdate: string;
  players: Player[];
}
Champs formulaire :

Nom Ã©vÃ©nement (input text)
Bouton "Ajouter tournoi" â†’ Mini-form :
Nom onglet (ex: "U12")
URL FFE rÃ©sultats
Bouton "CrÃ©er Ã©vÃ©nement"
Validation :

Nom Ã©vÃ©nement requis
Au moins 1 tournoi
URLs valides (format echecs.asso.fr/Resultats.aspx)
2. Scraping FFE
API Route : /api/scrape.ts

typescript
// Vercel Function
export default async function handler(req: Request) {
  const { url } = await req.json();
  
  // Fetch page FFE
  const html = await fetch(url).then(r => r.text());
  
  // Return raw HTML
  return new Response(JSON.stringify({ html }), {
    headers: { 'Content-Type': 'application/json' }
  });
}
Frontend appelle : POST /api/scrape avec { url }

3. Parsing HTML FFE
Parser la grille amÃ©ricaine :

typescript
interface Player {
  name: string;
  elo: number;
  club: string;
  results: Result[]; // Par ronde
  currentPoints: number;
  buchholz?: number;   // Ronde en cours seulement
  performance?: number; // Ronde en cours seulement
  ranking: number;      // Classement tournoi complet
  validated: boolean[]; // Une par ronde
}

interface Result {
  round: number;
  score: 0 | 0.5 | 1;
  opponent?: string;
}
```

**Logic parsing :**
1. Parser tableau HTML (structure vue dans l'exemple U14)
2. Extraire lignes avec `Club = "Hay Chess"`
3. Parser colonnes : Nom, Elo, R1, R2, R3..., Pts, Tr (Buchholz), Perf
4. Calculer ranking (position dans tableau complet)

---

### 4. Affichage tableau joueurs

**Composant `PlayerTable.tsx` :**

**Colonnes :**
- Nom (lien vers fiche FFE ?)
- Elo
- R1, R2, R3... (afficher 1/0/0.5 avec icÃ´nes âœ“/âœ—/=)
- Points cumulÃ©s (aprÃ¨s chaque ronde)
- **Pour ronde en cours uniquement :**
  - Buchholz
  - Performance
- Classement (ex: "5/64")
- Validation (checkbox par ronde)

**Indicateurs visuels validation :**
- â³ Gris : Non validÃ©
- âœ… Vert : ValidÃ© par responsable
- âŒ Rouge : Alerte si Ã©cart dÃ©tectÃ© (optionnel)

**Tri par dÃ©faut :** Classement tournoi (meilleur en haut)

---

### 5. Stats club

**Composant `ClubStats.tsx` :**

**Affichage (en haut d'onglet) :**
```
ğŸ“Š Stats Club - Ronde [N]
Score total: [X] points / [Y] joueurs
Moyenne: [Z] pts/joueur
Calculs :

X = somme des points de tous les joueurs Hay Chess Ã  la ronde N
Y = nombre de joueurs Hay Chess
Z = X / Y (arrondi 2 dÃ©cimales)
6. Refresh manuel
Bouton "Refresh" par onglet :

Appelle /api/scrape avec URL du tournoi
Parse HTML
Compare avec donnÃ©es locales
Highlight changements (optionnel : flash jaune)
Update localStorage
FrÃ©quence : Manuel uniquement (pas d'auto-refresh)

7. Stockage local
localStorage structure :

typescript
{
  "currentEventId": "evt_123",
  "events": [
    {
      "id": "evt_123",
      "name": "Championnat dÃ©partemental 13",
      "tournaments": [...],
      "validations": {
        "tournament_id": {
          "player_name": {
            "round_1": true,
            "round_2": false
          }
        }
      }
    }
  ]
}
ğŸ“¦ Configuration fichiers
package.json
json
{
  "name": "hay-chess-tracker",
  "private": true,
  "version": "1.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "preview": "vite preview",
    "lint": "eslint . --ext ts,tsx"
  },
  "dependencies": {
    "react": "^18.3.1",
    "react-dom": "^18.3.1",
    "cheerio": "^1.0.0",
    "lucide-react": "^0.263.1",
    "date-fns": "^3.0.0"
  },
  "devDependencies": {
    "@types/react": "^18.3.3",
    "@types/react-dom": "^18.3.0",
    "@vitejs/plugin-react": "^4.3.1",
    "autoprefixer": "^10.4.20",
    "postcss": "^8.4.47",
    "tailwindcss": "^3.4.1",
    "typescript": "^5.5.3",
    "vite": "^5.4.1",
    "eslint": "^8.57.0"
  }
}
vercel.json
json
{
  "functions": {
    "api/**/*.ts": {
      "runtime": "nodejs20.x"
    }
  },
  "rewrites": [
    {
      "source": "/api/(.*)",
      "destination": "/api/$1"
    }
  ]
}
vite.config.ts
typescript
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import path from 'path';

export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src')
    }
  }
});
tailwind.config.js
javascript
/** @type {import('tailwindcss').Config} */
export default {
  content: ['./index.html', './src/**/*.{js,ts,jsx,tsx}'],
  theme: {
    extend: {
      colors: {
        'miami-aqua': '#008E97',
        'miami-orange': '#FC4F00',
        'miami-navy': '#013369'
      }
    }
  },
  plugins: []
};
components.json (shadcn/ui)
json
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "default",
  "rsc": false,
  "tsx": true,
  "tailwind": {
    "config": "tailwind.config.js",
    "css": "src/styles/globals.css",
    "baseColor": "slate",
    "cssVariables": true
  },
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils"
  }
}
ğŸš€ Instructions dÃ©ploiement Vercel
PrÃ©paration
Push code sur GitHub
Se connecter Ã  Vercel : https://vercel.com
"Import Project" â†’ SÃ©lectionner repo GitHub
Configuration Vercel
Framework Preset : Vite
Root Directory : .
Build Command : npm run build
Output Directory : dist
Install Command : npm install
Variables d'environnement
Aucune requise pour l'instant.

DÃ©ploiement
Push sur main â†’ Auto-deploy
URL gÃ©nÃ©rÃ©e : https://hay-chess-tracker.vercel.app
âœ… Tests Ã  faire
Tests manuels essentiels
âœ… CrÃ©er Ã©vÃ©nement avec 2 tournois
âœ… Scraper page FFE U12/U14
âœ… Afficher uniquement joueurs Hay Chess
âœ… Valider rÃ©sultats (checkboxes)
âœ… Refresh manuel â†’ dÃ©tecte changements
âœ… Stats club calculÃ©es correctement
âœ… Responsive mobile (320px width)
âœ… localStorage persiste refresh navigateur
Tests edge cases
URL FFE invalide â†’ message erreur
Aucun joueur Hay Chess â†’ message "Aucun joueur"
Tournoi sans rÃ©sultats encore â†’ gÃ©rer gracefully
localStorage plein â†’ warning
ğŸ¯ Checklist dÃ©veloppement
Phase 1 : Setup (30 min)
 Init projet Vite React TypeScript
 Install shadcn/ui
 Copier globals.css depuis chess-app
 Setup Tailwind avec couleurs Miami
 CrÃ©er structure dossiers
Phase 2 : Backend (1h)
 CrÃ©er /api/scrape.ts Vercel Function
 Tester fetch page FFE en local
 Parser HTML avec Cheerio
 Retourner JSON propre
Phase 3 : Frontend Core (2h)
 Composant EventForm
 Layout avec onglets
 localStorage helpers
 Types TypeScript complets
Phase 4 : Affichage donnÃ©es (2h)
 Composant PlayerTable
 Parser FFE â†’ format Player[]
 Filtrage club "Hay Chess"
 Calcul ranking/stats
Phase 5 : Validation (1h)
 Checkboxes validation
 Persist validations localStorage
 Indicateurs visuels â³/âœ…
Phase 6 : Stats & Polish (1h)
 Composant ClubStats
 Calculs moyennes
 Bouton Refresh
 Loading states
Phase 7 : Tests & Deploy (1h)
 Tests manuels complets
 Responsive mobile
 Push GitHub
 Deploy Vercel
 Tester prod
Total estimÃ© : 8-10 heures

ğŸ“± Responsive breakpoints
Mobile : 320px - 640px (1 colonne)
Tablet : 641px - 1024px (optimisÃ© onglets)
Desktop : 1025px+ (full width)
PrioritÃ© mobile-first !

ğŸ” SÃ©curitÃ© & Limitations
Rate limiting FFE
Pas d'auto-refresh (seulement manuel)
Ajouter delay 2s entre scrapes multiples
Message utilisateur : "Attendre 2s entre refresh"
CORS
GÃ©rÃ© par Vercel Function (proxy)
Frontend ne contacte jamais FFE directement
DonnÃ©es sensibles
Aucune (donnÃ©es publiques FFE)
Pas d'authentification requise
ğŸ“ Notes importantes
Club hardcodÃ© : "Hay Chess" en dur dans le code (pas de sÃ©lection)
Scraping doux : Refresh manuel uniquement, respecter FFE
Zero friction : Parent ouvre URL â†’ Ã§a marche direct
localStorage : Peut Ãªtre effacÃ© par navigateur (prÃ©voir export JSON ?)
Future : Ajouter export PDF/Excel des rÃ©sultats ?
ğŸ¨ Composants shadcn/ui Ã  installer
bash
npx shadcn-ui@latest init
npx shadcn-ui@latest add button
npx shadcn-ui@latest add input
npx shadcn-ui@latest add label
npx shadcn-ui@latest add tabs
npx shadcn-ui@latest add table
npx shadcn-ui@latest add checkbox
npx shadcn-ui@latest add card
npx shadcn-ui@latest add badge
npx shadcn-ui@latest add alert
ğŸ› Debugging tips
Si scraping Ã©choue :

VÃ©rifier structure HTML FFE (peut changer)
Tester URL directement dans navigateur
Console.log HTML brut pour debug
Si localStorage plein :

Limite 5-10MB selon navigateur
Nettoyer vieux Ã©vÃ©nements
Si Vercel deploy fail :

VÃ©rifier vercel.json config
Build en local : npm run build
Check TypeScript errors
ğŸ“ Support
Si problÃ¨me technique :

Check Console errors navigateur
Tester en local : npm run dev
VÃ©rifier page FFE toujours mÃªme structure
FIN DE SPEC

PRÃŠT POUR CLAUDE CODE ! ğŸš€

Copie ce document complet et donne-le Ã  Claude Code dans VS Code. Il a TOUT pour coder l'app en autonomie complÃ¨te.